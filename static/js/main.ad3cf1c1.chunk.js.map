{"version":3,"sources":["components/tickersLst.module.css","redux/actions.js","components/TickersList.js","redux/operations.js","App.js","redux/reducers.js","redux/store.js","index.js"],"names":["module","exports","getTickersData","createAction","TickersList","dispatch","useDispatch","tickers","useSelector","state","tickersFirst","tickersNext","useEffect","a","socket","io","on","console","log","emit","tickerData","res","Array","isArray","slice","className","s","wrap","ticker","head","map","el","item","id","data","price","App","tickersData","createReducer","payload","length","store","configureStore","reducer","middleware","getDefaultMiddleware","concat","logger","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"oFACAA,EAAOC,QAAU,CAAC,KAAO,yBAAyB,QAAU,4BAA4B,OAAS,2BAA2B,KAAO,yBAAyB,KAAO,yBAAyB,IAAM,wBAAwB,MAAQ,4B,qLCCrNC,EAAiBC,YAAa,0B,4BCG5B,SAASC,IACtB,IAAMC,EAAWC,cACXC,EAAUC,aAAY,SAAAC,GAAK,OAAIA,EAAMF,WACvCG,EAAe,GACfC,EAAc,GAUlB,OAPAC,qBAAU,WACRP,ECTF,uCAAO,WAAMA,GAAN,eAAAQ,EAAA,uDACCC,EAASC,YAAG,0BACXC,GAAG,WAAW,WACnBC,QAAQC,IAAI,aACZJ,EAAOK,KAAK,YAGdL,EAAOE,GAAG,UAAU,SAACI,GACjB,IAAMC,EAAMC,MAAMC,QAAQH,GAAcA,EAAa,CAACA,GACtDf,EAASH,EAAemB,OATvB,2CAAP,yDDUG,CAAChB,IAEJK,EAAeH,EAAQiB,MAAM,GAAG,GAChCb,EAAcJ,EAAQiB,OAAO,GAI3B,sBAAKC,UAAWC,IAAEC,KAAlB,UACE,qBAAKF,UAAS,UAAKC,IAAEE,OAAP,YAAiBF,IAAEG,MAAjC,SACEtB,EAAQiB,OAAO,GAAGM,KAAI,SAACC,GAAD,OACpB,qBAAKN,UAAS,UAAKC,IAAEM,MAArB,SACGD,EAAGH,QAD4BG,EAAGE,SAKzC,sBAAKR,UAAWC,IAAEQ,KAAlB,UACCxB,EAAaoB,KAAI,SAACC,GAAD,OACd,qBAAKN,UAAWC,IAAEM,KAAlB,SACGD,EAAGI,OADuBJ,EAAGE,OAInCtB,EAAYmB,KAAI,SAACC,GAAD,OACb,sBAAKN,UAAS,UAAKC,IAAEM,MAArB,UAA0CD,EAAGI,MAA7C,MAAkCJ,EAAGE,aEvBhCG,MAVf,WAEE,OACE,sBAAKX,UAAU,MAAf,UACE,oBAAIA,UAAU,SAAd,kCACA,cAACrB,EAAD,Q,iCCJOiC,EAAcC,YAAc,GAAD,eACnCpC,GAAiB,SAACO,EAAD,GAAuB,IAAd8B,EAAa,EAAbA,QACvB,OAAG9B,EAAM+B,OAAO,GACN,GAAN,mBAAW/B,GAAX,YAAqB8B,IAGb,sBAAI9B,GAAJ,YAAc8B,IAASf,OAAO,QCCnCiB,EAPDC,YAAe,CAC3BC,QAAS,CACPpC,QAAS8B,GAEXO,WAAY,SAACC,GAAD,OAA0BA,IAAuBC,OAAOC,QCAtEC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,CAAUT,MAAOA,EAAjB,SACE,cAAC,EAAD,QAGJU,SAASC,eAAe,W","file":"static/js/main.ad3cf1c1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"tickersLst_wrap__3OzUf\",\"wrapRow\":\"tickersLst_wrapRow__3D8x7\",\"ticker\":\"tickersLst_ticker__30zzv\",\"item\":\"tickersLst_item__xpSWj\",\"data\":\"tickersLst_data__ARPkg\",\"red\":\"tickersLst_red__b_IN4\",\"green\":\"tickersLst_green__1ahKB\"};","import { createAction } from '@reduxjs/toolkit'\n\nexport const getTickersData = createAction('tickers/getTickersData');\n// export const deletTickers = createAction('tickers/deleteTickers');\n","import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getTickerData } from '../redux/operations';\nimport s from './tickersLst.module.css';\n\nexport default function TickersList() {\n  const dispatch = useDispatch();\n  const tickers = useSelector(state => state.tickers);\n  let tickersFirst = [];\n  let tickersNext = [];\n\n\n  useEffect(() => {\n    dispatch(getTickerData());\n  }, [dispatch]);\n\n  tickersFirst = tickers.slice(0,-6);\n  tickersNext = tickers.slice(-6);\n\n  return (\n\n    <div className={s.wrap}>\n      <div className={`${s.ticker} ${s.head}`}>\n       {tickers.slice(-6).map((el) => (\n          <div className={`${s.item}`} key={el.id}>\n            {el.ticker}\n          </div>\n        ))}\n      </div>\n      <div className={s.data}>\n      {tickersFirst.map((el) => (\n          <div className={s.item} key={el.id}>\n            {el.price} \n          </div>\n        ))}\n      {tickersNext.map((el) => (\n          <div className={`${s.item}`} key={el.id}>{el.price} </div>\n        ))}\n      </div>\n    </div>\n  );\n}","import io from 'socket.io-client';\nimport { getTickersData } from './actions';\n\nexport function getTickerData() {\n  return async dispatch => {\n    const socket = io('http://localhost:4000');\n    socket.on('connect', () => {\n      console.log('connected');\n      socket.emit('start');\n    });\n    \n    socket.on('ticker', (tickerData) => {\n        const res = Array.isArray(tickerData) ? tickerData : [tickerData];\n        dispatch(getTickersData(res));\n      });\n  }\n}\n","import './App.css';\nimport TickersList from './components/TickersList';\n\nfunction App() {\n\n  return (\n    <div className=\"App\">\n      <h1 className=\"Header\">Price Ticker service</h1>\n      <TickersList/>\n    </div>\n  );\n}\n\nexport default App;\n","import { createReducer } from '@reduxjs/toolkit';\nimport { getTickersData } from './actions';\nlet array=[];\n\nexport const tickersData = createReducer([],{\n    [getTickersData]: (state, {payload}) => {\n        if(state.length<12) {\n            return [...state, ...payload];\n        }\n        else {\n            array = [...state, ...payload].slice(-12);\n            return array;\n        }\n    },\n    // [deletTickers]: (state, {payload}) => {\n    //     return state.tickers.filter(({id}) => id !== payload);\n    // },\n});\n","import { configureStore } from '@reduxjs/toolkit';\nimport logger from 'redux-logger';\nimport { tickersData } from './reducers';\n\nconst store = configureStore({\n  reducer: {\n    tickers: tickersData,\n  },\n  middleware: (getDefaultMiddleware) => getDefaultMiddleware().concat(logger),\n});\n\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { Provider } from 'react-redux';\nimport store from './redux/store';\n// import reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// reportWebVitals();\n"],"sourceRoot":""}